(this.webpackJsonpalgodish=this.webpackJsonpalgodish||[]).push([[0],{146:function(e,t,n){},197:function(e,t,n){},199:function(e,t,n){},208:function(e,t,n){},212:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var c,a,s,i,r,j,l,d,o,b,h,u=n(0),O=n.n(u),x=n(76),m=n.n(x),p=(n(197),n(198),n(199),n(23)),g=n(18),f=(n(146),n(1)),v=function(){return Object(f.jsx)("div",{className:"logo",children:Object(f.jsx)(p.b,{to:"/",children:Object(f.jsxs)("h1",{children:[Object(f.jsx)("i",{className:"utensils icon"})," algo",Object(f.jsx)("span",{className:"dish",children:"Dish"})]})})})},y=function(){return Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(p.b,{to:"/",children:"Home"})}),Object(f.jsx)("li",{children:Object(f.jsx)(p.b,{to:"/dashboard",children:"Dashboard"})}),Object(f.jsx)("li",{children:Object(f.jsx)(p.b,{to:"/login",children:"Login"})}),Object(f.jsx)("li",{children:Object(f.jsx)(p.b,{to:"/signup",children:"Signup"})})]})})},k=function(){return Object(f.jsxs)("header",{children:[Object(f.jsx)(v,{}),Object(f.jsx)(y,{})]})},w=(n(208),function(){return Object(f.jsx)("p",{className:"test",children:"\xa9 2021 AlgoDish. All Rights Reserved."})}),I=function(){return Object(f.jsx)("footer",{children:Object(f.jsx)(w,{})})},C=n(246),D=n.p+"static/media/salmon-bg.87ff32fb.jpg",_=n(235),S=function(){return Object(f.jsx)(_.a.Input,{fluid:!0,size:"massive",icon:"search",placeholder:"Search..."})},$=n(245),N=function(){var e={wallpaper:{width:"100%",minHeight:"300px",backgroundImage:"url(".concat(D,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",display:"flex",justifyContent:"center",alignItems:"center"},search:{minWidth:"60%"}};return Object(f.jsx)($.a,{columns:1,children:Object(f.jsx)("div",{style:e.wallpaper,children:Object(f.jsx)($.a.Row,{style:e.search,children:Object(f.jsx)($.a.Column,{children:Object(f.jsx)(S,{})})})})})},R=n(247),B=n(240),T=n(69),z=(n(212),function(e){var t=e.dish,n=t._id,c=t.image,a=t.title,s=t.username,i=t.cook_time,r=t.description;return Object(f.jsxs)(B.a,{fluid:!0,children:[Object(f.jsx)(p.b,{to:"/dish/".concat(n),children:Object(f.jsx)("div",{className:"dishImage",style:{backgroundImage:"url(".concat(c,")")}})}),Object(f.jsxs)(B.a.Content,{children:[Object(f.jsx)(B.a.Header,{children:a}),Object(f.jsx)("br",{}),Object(f.jsxs)(B.a.Meta,{children:[Object(f.jsx)(T.a,{name:"user outline"}),Object(f.jsx)("span",{className:"date",children:s})]}),Object(f.jsx)("br",{}),Object(f.jsx)(B.a.Meta,{children:Object(f.jsx)(B.a.Description,{children:Object(f.jsxs)("div",{className:"add-ellipsis",children:[Object(f.jsx)(T.a,{name:"list alternate outline"})," ",r]})})})]}),Object(f.jsx)(B.a.Content,{extra:!0,children:Object(f.jsxs)("span",{children:[Object(f.jsx)(T.a,{name:"clock outline"})," Cook time ",i," mins"]})})]})}),E=function(e){var t=e.dishList;return Object(f.jsx)(C.a,{placeholder:!0,raised:!0,children:Object(f.jsx)($.a,{doubling:!0,stackable:!0,columns:4,children:Object(f.jsx)($.a.Row,{children:t.map((function(e,t){return Object(f.jsx)($.a.Column,{children:Object(f.jsx)(z,{dish:e})},t)}))})})})},A=n.p+"static/media/spagetti.3b892b6c.jpg",F=function(){return Math.floor(99*Math.random())},L=[{id:F(),image:A,title:"Delicious spagetti ".concat(F()),username:"Elle",cookTime:F(),description:"Spagetti cooked in the Zimbabwe style!"},{id:F(),image:A,title:"Delicious spagetti ".concat(F()),username:"Elle",cookTime:F(),description:"Spagetti cooked in the Zimbabwe style!"},{id:F(),image:A,title:"Delicious spagetti ".concat(F()),username:"Elle",cookTime:F(),description:"Spagetti cooked in the Zimbabwe style!"},{id:F(),image:A,title:"Delicious spagetti ".concat(F()),username:"Elle",cookTime:F(),description:"Spagetti cooked in the Zimbabwe style!"}],q=n(39),P=n(238),H=(Object(P.a)(c||(c=Object(q.a)(["\n  query allDishes {\n    allDishes {\n      _id\n      title\n      username\n      image\n      description\n      cook_time\n    }\n  }\n"]))),Object(P.a)(a||(a=Object(q.a)(["\n  query dishById($id: ID!) {\n    dishById(id: $id) {\n      _id\n      title\n      username\n      image\n      description\n      cook_time\n    }\n  }\n"]))),Object(P.a)(s||(s=Object(q.a)(["\n  query dishById($id: ID!) {\n    dishById(id: $id) {\n      _id\n      title\n      username\n      image\n      description\n      cook_time\n      ingredients\n      recipe\n    }\n  }\n"])))),M=(Object(P.a)(i||(i=Object(q.a)(["\n  query userDishes($id: ID!) {\n    userDishes(id: $id) {\n      _id\n      title\n      username\n      image\n      description\n      cook_time\n      ingredients\n    }\n  }\n"]))),Object(P.a)(r||(r=Object(q.a)(["\n  query fourRandomDishes {\n    fourRandomDishes {\n      _id\n      title\n      username\n      image\n      description\n      cook_time\n    }\n  }\n"])))),U=Object(P.a)(j||(j=Object(q.a)(["\n  query lastFourDishes {\n    lastFourDishes {\n      _id\n      title\n      username\n      image\n      description\n      cook_time\n    }\n  }\n"]))),Z=(Object(P.a)(l||(l=Object(q.a)(["\n  query dishesByName($title: String!) {\n    dishesByName(title: $title) {\n      _id\n      title\n      username\n      image\n      description\n      cook_time\n    }\n  }\n"]))),Object(P.a)(d||(d=Object(q.a)(["\n  query users {\n    users {\n      _id\n      username\n    }\n  }\n"]))),Object(P.a)(o||(o=Object(q.a)(["\n  query userById($id: ID!) {\n    userById(id: $id) {\n      _id\n      username\n      email\n    }\n  }\n"]))),n(241)),J=function(){return Object(f.jsx)(C.a,{placeholder:!0,raised:!0,textAlign:"center",children:Object(f.jsx)(R.a,{textAlign:"center",size:"large",children:Object(f.jsx)(T.a,{name:"spinner"})})})},W=function(){var e=Object(Z.a)(U),t=e.loading,n=e.data;return Object(f.jsx)(C.a,{basic:!0,padded:"very",children:t?Object(f.jsx)(J,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(R.a,{as:"h2",children:Object(f.jsx)("span",{className:"cadet-color",children:"Recently added dishes"})}),Object(f.jsx)(E,{dishList:(null===n||void 0===n?void 0:n.lastFourDishes)||L})]})})},Y=function(){var e=Object(Z.a)(M),t=e.loading,n=e.data;return Object(f.jsx)(C.a,{basic:!0,padded:"very",children:t?Object(f.jsx)(J,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(R.a,{as:"h2",children:Object(f.jsx)("span",{className:"cadet-color",children:"Most popular dishes"})}),Object(f.jsx)(E,{dishList:(null===n||void 0===n?void 0:n.fourRandomDishes)||L})]})})},G=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(C.a,{basic:!0,children:Object(f.jsx)(N,{})}),Object(f.jsx)(W,{}),Object(f.jsx)(Y,{})]})},K=n(100),Q=n(242),V=n(239),X=function(){var e=Object(g.e)().id,t=Object(Z.a)(H,{variables:{id:e}}),n=t.loading,c=t.data,a=(null===c||void 0===c?void 0:c.dishById)||{},s=a.title,i=a.image,r=a.username,j=a.description,l=a.ingredients,d=a.recipe,o=a.cook_time,b=l?l.split(","):[],h=d?d.split("."):[];return Object(f.jsx)(C.a,{basic:!0,padded:"very",children:n?Object(f.jsx)(J,{}):Object(f.jsxs)(C.a,{raised:!0,padded:"very",children:[Object(f.jsx)("div",{style:Object(K.a)({backgroundImage:"url(".concat(i,")")},{width:"100%",height:"200px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"10px"})}),Object(f.jsxs)(R.a,{as:"h3",size:"huge",children:[Object(f.jsx)(T.a,{name:"utensils"})," ",s]}),Object(f.jsxs)(Q.a,{children:[Object(f.jsxs)(Q.a.Header,{children:[Object(f.jsx)(T.a,{name:"user outline"})," ",r," says:"]}),Object(f.jsx)("p",{children:j})]}),Object(f.jsxs)(Q.a,{children:[Object(f.jsx)(Q.a.Header,{children:"Ingredients"}),Object(f.jsx)(C.a,{children:b.map((function(e,t){return Object(f.jsx)(V.a,{divided:!0,inverted:!0,relaxed:!0,children:Object(f.jsx)(V.a.Item,{children:Object(f.jsxs)(V.a.Content,{children:[t+1,". ",e]})})},t)}))})]}),Object(f.jsxs)(Q.a,{children:[Object(f.jsx)(Q.a.Header,{children:"Recipe"}),Object(f.jsx)(C.a,{children:h.slice(0,h.length-1).map((function(e,t){return Object(f.jsx)(V.a,{divided:!0,inverted:!0,relaxed:!0,children:Object(f.jsx)(V.a.Item,{children:Object(f.jsxs)(V.a.Content,{children:[t+1,". ",e]})})},t)}))})]}),Object(f.jsxs)(Q.a,{children:[Object(f.jsx)(Q.a.Header,{children:"Cook Time"}),Object(f.jsx)(C.a,{children:Object(f.jsx)(V.a,{divided:!0,inverted:!0,relaxed:!0,children:Object(f.jsx)(V.a.Item,{children:Object(f.jsxs)(V.a.Content,{children:["Estimated ready time is ",o," minutes!"]})})})})]})]})})},ee=n(153),te=n.n(ee),ne=n(171),ce=n(131),ae=n(155),se=n(233),ie=n(243),re={algoButton:{backgroundColor:"#1a1b41",color:"#ffffff"}},je=function(e){var t=e.title;return Object(f.jsx)(ie.a,{type:"submit",size:"large",style:re.algoButton,children:t})},le=n(248),de=(Object(P.a)(b||(b=Object(q.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        username\n        _id\n      }\n    }\n  }\n"]))),Object(P.a)(h||(h=Object(q.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])))),oe=n(172),be=n(173),he=n(154),ue=new(function(){function e(){Object(oe.a)(this,e)}return Object(be.a)(e,[{key:"getProfile",value:function(){return Object(he.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(he.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),Oe=function(e){var t=Object(u.useState)({email:"",password:""}),n=Object(ae.a)(t,2),c=n[0],a=n[1],s=Object(le.a)(de),i=Object(ae.a)(s,2),r=i[0],j=i[1],l=(j.error,j.data,function(e){var t=e.target,n=t.name,s=t.value;a(Object(K.a)(Object(K.a)({},c),{},Object(ce.a)({},n,s)))}),d=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(c),e.prev=2,e.next=5,r({variables:Object(K.a)({},c)});case 5:n=e.sent,s=n.data,ue.login(s.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:a({email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(C.a,{basic:!0,children:[Object(f.jsx)(se.a,{horizontal:!0}),Object(f.jsx)($.a,{columns:3,stackable:!0,children:Object(f.jsxs)($.a.Row,{children:[Object(f.jsx)($.a.Column,{}),Object(f.jsx)($.a.Column,{children:Object(f.jsx)(C.a,{raised:!0,children:Object(f.jsxs)("div",{children:[Object(f.jsx)(Q.a,{attached:!0,header:"Account Login",content:"Enter your credentials to login into your account"}),Object(f.jsxs)(_.a,{className:"attached fluid segment",onSubmit:d,children:[Object(f.jsx)(_.a.Input,{label:"Email",placeholder:"email",type:"email",name:"email",value:c.email,onChange:l}),Object(f.jsx)(_.a.Input,{label:"Password",placeholder:"password",type:"password",name:"password",value:c.password,onChange:l}),Object(f.jsx)(je,{color:"blue",title:"Login"})]}),Object(f.jsxs)(Q.a,{attached:"bottom",warning:!0,children:[Object(f.jsx)(T.a,{name:"user"}),"New user?\xa0",Object(f.jsx)(p.b,{to:"/signup",children:"Sign up"}),"\xa0instead."]})]})})}),Object(f.jsx)($.a.Column,{})]})})]})},xe=function(){return Object(f.jsxs)(C.a,{basic:!0,children:[Object(f.jsx)(se.a,{horizontal:!0}),Object(f.jsx)($.a,{columns:3,stackable:!0,children:Object(f.jsxs)($.a.Row,{children:[Object(f.jsx)($.a.Column,{}),Object(f.jsx)($.a.Column,{children:Object(f.jsx)(C.a,{raised:!0,children:Object(f.jsxs)("div",{children:[Object(f.jsx)(Q.a,{attached:!0,header:"Create Account",content:"Fill out the form below to create your account"}),Object(f.jsxs)(_.a,{className:"attached fluid segment",children:[Object(f.jsx)(_.a.Input,{label:"Username",placeholder:"Username",type:"text"}),Object(f.jsx)(_.a.Input,{label:"Email",placeholder:"email",type:"email"}),Object(f.jsx)(_.a.Input,{label:"Password",placeholder:"password",type:"password"}),Object(f.jsx)(_.a.Checkbox,{inline:!0,label:"I agree to the terms and conditions"}),Object(f.jsx)(je,{color:"blue",title:"Create Account"})]}),Object(f.jsxs)(Q.a,{attached:"bottom",warning:!0,children:[Object(f.jsx)(T.a,{name:"user"}),"Already signed up?\xa0",Object(f.jsx)(p.b,{to:"/login",children:"Login here"}),"\xa0instead."]})]})})}),Object(f.jsx)($.a.Column,{})]})})]})},me=function(){return Object(f.jsxs)(R.a,{as:"h2",children:[Object(f.jsx)(T.a,{name:"user outline"}),"Welcome back, Elle!"]})},pe=function(){return Object(f.jsx)(C.a,{basic:!0,padded:"very",children:Object(f.jsxs)(C.a,{raised:!0,padded:"very",children:[Object(f.jsx)($.a,{columns:2,stackable:!0,children:Object(f.jsxs)($.a.Row,{children:[Object(f.jsx)($.a.Column,{children:Object(f.jsx)(me,{})}),Object(f.jsx)($.a.Column,{children:Object(f.jsx)(p.b,{to:"create-dish",children:Object(f.jsxs)(ie.a,{fluid:!0,style:re.algoButton,circular:!0,size:"huge",children:[Object(f.jsx)(T.a,{name:"plus"}),"Create new dish"]})})})]})}),Object(f.jsx)(se.a,{horizontal:!0}),Object(f.jsx)(se.a,{horizontal:!0}),Object(f.jsx)(R.a,{as:"h2",children:Object(f.jsx)("span",{className:"cadet-color",children:"Dishes you created"})}),Object(f.jsx)(E,{dishList:L}),Object(f.jsx)(se.a,{horizontal:!0}),Object(f.jsx)(R.a,{as:"h2",children:Object(f.jsx)("span",{className:"cadet-color",children:"Your favourite dishes"})}),Object(f.jsx)(E,{dishList:L})]})})},ge=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(Q.a,{children:Object(f.jsx)(R.a,{as:"h3",children:"Create a new dish"})}),Object(f.jsxs)(_.a,{className:"attached fluid segment",children:[Object(f.jsx)(_.a.Input,{label:"Dish Title",placeholder:"name of dish",type:"text"}),Object(f.jsx)(_.a.TextArea,{label:"Dish Ingredients",placeholder:"example: water, red peppers, oil...",rows:5}),Object(f.jsx)(_.a.TextArea,{label:"Dish Procedure",placeholder:"example: step 1, heat water for 5 mins;",rows:5}),Object(f.jsx)(je,{title:"Submit Dish"})]}),Object(f.jsxs)(Q.a,{attached:"bottom",teal:!0,children:[Object(f.jsx)(T.a,{name:"utensils"}),"Properly describe the steps and ingredents need to prepare this dish."]})]})},fe=function(){return Object(f.jsx)(C.a,{basic:!0,padded:"very",children:Object(f.jsx)(C.a,{raised:!0,padded:"very",children:Object(f.jsxs)($.a,{columns:2,stackable:!0,children:[Object(f.jsxs)($.a.Row,{children:[Object(f.jsx)($.a.Column,{children:Object(f.jsx)(me,{})}),Object(f.jsx)($.a.Column,{textAlign:"right",children:Object(f.jsx)(p.b,{to:"/dashboard",children:Object(f.jsxs)(ie.a,{size:"large",style:re.algoButton,children:[Object(f.jsx)(T.a,{name:"arrow circle left"})," Back to dashboard"]})})})]}),Object(f.jsxs)($.a.Row,{children:[Object(f.jsx)($.a.Column,{children:Object(f.jsx)(ge,{})}),Object(f.jsx)($.a.Column,{})]})]})})})},ve=n(236),ye=n(237),ke=n(234),we=new ve.a({uri:"/graphql",cache:new ye.a}),Ie=function(){return Object(f.jsx)(ke.a,{client:we,children:Object(f.jsxs)(p.a,{children:[Object(f.jsx)(k,{}),Object(f.jsxs)("main",{children:[Object(f.jsx)(g.a,{exact:!0,path:"/",children:Object(f.jsx)(G,{})}),Object(f.jsx)(g.a,{exact:!0,path:"/dish/:id",children:Object(f.jsx)(X,{})}),Object(f.jsx)(g.a,{exact:!0,path:"/login",children:Object(f.jsx)(Oe,{})}),Object(f.jsx)(g.a,{exact:!0,path:"/signup",children:Object(f.jsx)(xe,{})}),Object(f.jsx)(g.a,{exact:!0,path:"/dashboard",children:Object(f.jsx)(pe,{})}),Object(f.jsx)(g.a,{exact:!0,path:"/create-dish",children:Object(f.jsx)(fe,{})})]}),Object(f.jsx)(I,{})]})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,250)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};m.a.render(Object(f.jsx)(O.a.StrictMode,{children:Object(f.jsx)(Ie,{})}),document.getElementById("root")),Ce()}},[[215,1,2]]]);
//# sourceMappingURL=main.b89ac9ab.chunk.js.map